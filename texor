#!/bin/bash

# Verificar que el archivo fue proporcionado
if [ -z "$1" ]; then
    echo "Uso: $0 <archivo>"
    exit 1
fi

# Verificar que el archivo existe
if [ ! -f "$1" ]; then
    echo "El archivo '$1' no existe."
    exit 1
fi

# Mostrar el archivo con hexcurse
hexcurse "$1" &

# Crear una interfaz de usuario sencilla con ncurses para manejar las opciones
while true; do
    echo "Presiona Ctrl + T para cambiar a modo binario."
    read -rsn1 input
    if [ "$input" = $'\x14' ]; then  # Ctrl + T es \x14 en c√≥digo ASCII
        pkill hexcurse  # Cierra hexcurse
        echo "Cambiando a modo binario..."
        xxd -b "$1"  # Muestra el archivo en binario
    fi
done
